<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction · ElTopo.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>ElTopo.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Introduction</a><ul class="internal"><li><a class="toctext" href="#The-API-1">The API</a></li></ul></li><li><a class="toctext" href="enright/">Enright test</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Introduction</a></li></ul><a class="edit-page" href="https://github.com/akels/ElTopo.jl/blob/master/examples/index.jl"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Introduction</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Introduction-1" href="#Introduction-1">Introduction</a></h1><p>ElTopo.jl is a interface to a C++ library <a href="https://github.com/tysonbrochu/eltopo">eltopo</a>. ElTopo the C++ library is a package for tracking dynamic surfaces represented as triangle meshes in 3D. It robustly handles topology changes such as merging and pinching off, while adaptively maintaining a tangle-free, high-quality triangulation. Suitable to simulate time dependant boundary problems, such as droplet behaviour uppon external field, interface dynamics of liquids in a container, etc.</p><p>Currently, the wrapper works only on Linux (Help wanted! See <a href="https://github.com/akels/ElTopoBuilder">ElTopoBuilder</a> and <a href="https://travis-ci.org/akels/ElTopo.jl/jobs/574602453 ">Travis</a> ) and does not expose internal triangular mesh data structure methods. Nevertheless, it provides the mesh stabilization method with expossed parameters to control it. And together with <code>SurfaceTopology.jl</code> should be useful for soft surface dynamics calculations.</p><h2><a class="nav-anchor" id="The-API-1" href="#The-API-1">The API</a></h2><p>The wrapper focuses on the high-level functionality provided in <a href="https://github.com/tysonbrochu/eltopo">ElTopo</a>. There are three important functions in it <code>SurfTrack::improve_mesh</code>, <code>SurfTrack::topology_changes</code> and <code>SurfTrack::integrate</code>. The first two methods are combined under the name <code>stabilize</code> whereas the latter one, which modifies tangential velocities to avoid vertex collisions, is not wrapped <a href="#footnote-1">[1]</a>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ElTopo.SurfTrack" href="#ElTopo.SurfTrack"><code>ElTopo.SurfTrack</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">SurfTrack([...])</code></pre><p>Constructs a SurfTrack instance which holds parameters for ElTopo surface tracker stabilization. </p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0-L4">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ElTopo.stabilize-Tuple{GeometryTypes.HomogenousMesh,SurfTrack}" href="#ElTopo.stabilize-Tuple{GeometryTypes.HomogenousMesh,SurfTrack}"><code>ElTopo.stabilize</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">stabilize(msh::HomogenousMesh,p::SurfTrack)</code></pre><p>Computes stabilized mesh for a given initial triangulation <code>msh</code> with stabilization parameters <code>p</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/akels/ElTopo.jl/blob/2313671e64d2022847de7f45149b72065663d80f/src/ElTopo.jl#L154-L158">source</a></section><p>Let&#39;s first load ElTopo library and load the triangulation to stabilize. In this case, a sphere made out of two subdivisions of an icosahedron.</p><pre><code class="language-julia">using ElTopo
include(&quot;sphere.jl&quot;)
msh = unitsphere(2)</code></pre><pre><code class="language-none">HomogenousMesh(
    faces: 320xGeometryTypes.Face{3,Int64},     vertices: 162xGeometryTypes.Point{3,Float64}, )
</code></pre><p>Berore executing stabilization method we need to initialize parameters. See docstrings for fields and also <a href="http://www.cs.ubc.ca/labs/imager/tr/2009/eltopo/sisc2009.pdf">article</a>.</p><pre><code class="language-julia">scale = 0.2
par = SurfTrack(
    min_edge_length = 0.7*scale,
    max_edge_length = 1.5*scale,
    max_volume_change = 0.1*scale^3,
    merge_proximity_epsilon = 0.5*scale,
)</code></pre><pre><code class="language-none">SurfTrack
  proximity_epsilon: Float64 0.0001
  friction_coefficient: Float64 0.0
  min_triangle_area: Float64 1.0e-7
  improve_collision_epsilon: Float64 2.0e-6
  use_fraction: Bool false
  min_edge_length: Float64 0.13999999999999999
  max_edge_length: Float64 0.30000000000000004
  max_volume_change: Float64 0.0008000000000000003
  min_triangle_angle: Float64 0.0
  max_triangle_angle: Float64 180.0
  use_curvature_when_splitting: Bool false
  use_curvature_when_collapsing: Bool false
  min_curvature_multiplier: Float64 1.0
  max_curvature_multiplier: Float64 1.0
  allow_vertex_movement: Bool false
  edge_flip_min_length_change: Float64 0.05
  merge_proximity_epsilon: Float64 0.1
  collision_safety: Bool true
  allow_topology_changes: Bool false
  allow_non_manifold: Bool false
  perform_improvement: Bool true
</code></pre><p>Then putting parameters and mesh in we can execute stabilization:</p><pre><code class="language-julia">newmsh = stabilize(msh,par)</code></pre><pre><code class="language-none">HomogenousMesh(
    faces: 800xGeometryTypes.Face{3,UInt64},     vertices: 402xGeometryTypes.Point{3,Float64}, )
</code></pre><div class="footnote" id="footnote-1"><a href="#footnote-1"><strong>[1]</strong></a><p>I had issues with using Cxx to represent <code>SurfTrack</code> instance in julia. Thus the best I was able to do was to use a single <code>icxx</code> block in julia function to do all the stuff. In spite of that, I think that covers most of the use cases.</p></div><footer><hr/><a class="next" href="enright/"><span class="direction">Next</span><span class="title">Enright test</span></a></footer></article></body></html>
